# Hostapd Test Configuration
# Purpose: Operate at 80 MHz while advertising 160 MHz capability
# Use Case: Profiler - elicit maximum client capabilities without DFS channels
# 
# Channel: 36 (5180 MHz, UNII-1 band, no DFS required)
# Operating Bandwidth: 80 MHz (channels 36+40+44+48)
# Advertised Capability: 160 MHz (VHT only, HE/EHT need patches)
#
# Last Verified: 2026-01-24
# Status: WORKING for VHT 160 MHz advertising

interface=wlan0
driver=nl80211
ctrl_interface=/run/wlanpi-profiler/hostapd
ctrl_interface_group=0

# Basic AP Parameters
ssid=PROFILER-80-ADV160
hw_mode=a
channel=36
country_code=US
ieee80211d=1
ieee80211h=0  # Disable DFS

# HT (802.11n)
ieee80211n=1
ht_capab=[HT40+][SHORT-GI-20][SHORT-GI-40][TX-STBC][RX-STBC1]

# VHT (802.11ac) - ADVERTISE 160 MHz while OPERATING at 80 MHz
ieee80211ac=1
vht_oper_chwidth=1              # 1 = 80 MHz operation
vht_oper_centr_freq_seg0_idx=42 # Center of channels 36+40+44+48 (5210 MHz)

# VHT Capabilities - The [VHT160] and [SHORT-GI-160] flags advertise 160 MHz support
# This is what elicits maximum client capabilities!
vht_capab=[MAX-MPDU-11454][RXLDPC][SHORT-GI-80][SHORT-GI-160][TX-STBC-2BY1][RX-STBC-1][VHT160]

# HE (802.11ax / Wi-Fi 6)
# TODO: Add HE 160 MHz advertising capability (needs patch)
ieee80211ax=1
he_oper_chwidth=1               # 1 = 80 MHz operation
he_oper_centr_freq_seg0_idx=42
he_su_beamformer=1
he_su_beamformee=1
he_mu_beamformer=1

# EHT (802.11be / Wi-Fi 7)  
# TODO: Add EHT 160 MHz advertising capability (needs patch)
# ieee80211be=1
# eht_oper_chwidth=1
# eht_oper_centr_freq_seg0_idx=42

# Security
wpa=2
wpa_key_mgmt=WPA-PSK
wpa_passphrase=profiler
wpa_pairwise=CCMP

# WMM
wmm_enabled=1

# 802.11k/v for comprehensive capability probing
rrm_neighbor_report=1
rrm_beacon_report=1
bss_transition=1

# Logging
logger_stdout=-1
logger_stdout_level=2

# VERIFICATION NOTES:
# ===================
# VHT Capabilities should show:
#   - Supported Channel Width Set: 160MHz supported (0x1) ✓
#   - Short GI for 160MHz and 80+80MHz: Supported ✓
#
# VHT Operation should show:
#   - Channel Width: 80 MHz (actual operation) ✓
#   - Channel Center Segment 0: 42 ✓
#
# HE PHY Capabilities currently show:
#   - 160 MHz in the 5 GHz and 6 GHz bands: Not supported ✗
#   (This needs to be patched to advertise 160 MHz)
